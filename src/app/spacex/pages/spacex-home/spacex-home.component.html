<div class="launch-details-container">
  <header>SpaceX Launch Programs</header>
  <main>
    <aside>
      <app-filter></app-filter>
    </aside>

    <!-- If loader is activated show it -->
    <ng-container *ngIf="loading$ | async as loadingFlag; else displayContents">
      <section class="loading-body">
        <div class="loader"></div>
      </section>
    </ng-container>

    <!-- Proceed to show contents -->
    <ng-template #displayContents>
      <!-- Wait for data stream -->
      <ng-container *ngIf="launchDetails$ | async as launchCards">
        <!-- Only show cards if there is no data -->
        <section *ngIf="launchCards.length; else noItemsPresent" class="body">
          <div
            *ngFor="let card of launchCards"
            class="grid-item flex-grow"
            [ngClass]="{
              'flex-grow': launchCards?.length < 4
            }"
          >
            <app-launch-card [launchDetails]="card"></app-launch-card>
          </div>
        </section>
        <!-- Show NO DATA UI -->
        <ng-template #noItemsPresent>
          <section class="loading-body">No data</section>
        </ng-template>
      </ng-container>
    </ng-template>
  </main>
  <footer>
    <span class="footer-title">Developed by: </span>
    <span>{{ developerName }}</span>
  </footer>
</div>
